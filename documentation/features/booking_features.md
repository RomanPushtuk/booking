BDD (Cucumber language)

feature: Общая проверка идентификаторов
    Scenario: Действие осуществляется несуществующим id
    When: Идентификатора не существет в система
    Then: показать ошибку - "не существующий идентификатор"

fature: Запись    
    Scenario: Запись на прошедшую дату
        When: клиент пытается записаться к хосту 
        But: время или дата уже прошли (дата записи < текущей даты OR время записи - текущего времени)
        Then: показать клиенту ошибку - "нельзя записаться на прошедшую дату"

    Scenario: Запись на дату позже которой принимает хост
        When клиент пытается записаться к хосту 
        But: дата записи позже которой принимает хост (дата записи > текущая дата  + forwardBooking)
        Then показать клиенту ошибку - "запись на данную дату пока недоступна"

    Scenario: Запись клиента меньше чем за час
        When клиент пытается записаться к хосту
        But: время записи наступит меньше чем через час (время запис - текущее время < 1h)
        Then показать клиенту ошибку - "нельзя записываться ранее чем за час"
    
    Scenario: Хост уже емеет запись на это время
        When: клиент пытается записаться к хосту
        But: у хоста это время уже занято 
        Then: показать клиенту ошибку - "хост уже занят на это время"

    Scenario: Запись на нерабочие дни хоста
        When: клиент пытается записаться к хосту
        But: у хоста не рабочий день
        Then показать клиенту ошибку - "у хоста нерабочий день"

    Scenario: Запись на нерабочее время хоста   
        When: клиент пытается записаться к хосту
        But: у хоста не рабочее время
        Then показать клиенту ошибку - "у хоста нерабочее время" 


feature: Начало записи
    Scenario: Перевод записи в сосотояние in_progress
        When текущее время записи больше или равно временем старта
        Then перевести статус записиь в in_progress

feature: Конец записи
    Scenario: Перевод записи в сосотояние finished
        When: текущее время больше или равно времени окончания приема
        Then: перевести статус записи в in_progress

feature: Отмена записи клиентом
    Scenario: Отмена записи клиентом которая уже идет 
        Given клиент успешно записался на какую-то дату и время
        When клиент пытается отменить запись которая помечена статусовм in_progress
        Then показать клиенту ошибку - "нельзя отменить текущую запись"

    Scenario: Отмена клиентом уже завершенной записи
        Given: клиент успешно записался на какую-то дату и время
        When: клиент пытается отменить запись которая помечена статусом finished
        Then: показать клиенту ошибку - "нельзя отменить прошедшую запись"

    Scenario: Отмена клиентом записи за 10 минут до консультации
        Given: клиент успешно записался на какую-то дату и время
        When: клиент пытается отменить запись меньше чем за 10 минут до ее начала 
        Then: показать клиенту ошибку - "нельзя отменить запись меньше чем за 10 минут до ее начала"

feature: Отмена записи хостом
    Scenario: Отмена хостом ужезавершенной записи
        Given: запись уже прошла
        When: хост пытается отменить прошедшую запись
        Then: показать ошибку - "нельзя отменить прошедшую запись"
    
    Scenario: Отмена записи хостом который не связан с записью
        Given: запись успешно создана
        When: хост пытается отменить запись
        But: hostId !== booking.hostId
        


feature: Изменение даты и времени(периода) записи
    Scenario: Изменение даты или время записи на прошедшую дату и время
        When: клиент пытается изменить дату или время
        But: изменяемая дата или время уже прошли
        Then: показать клиенту ошибку - "нельзя записаться на прошедшее время"

    Scenario: Изменение дату позже которой принимает хост
        When: клиент пытается изменить дату или время
        But: изменяемая дата позже которой принимает хост (новая дата записи > текущая дата + forwardBooking)
        Then: показать клиенту ошибку - "запись на данную дату пока недоступна"

    Scenario: Изменение времени на время меньше чем за час
        When: клиент пытается изменить время
        But: клиент меняет время раньше чем за час до жалаемого времени (желаемое время записи - текущее время < 1h)
        Then показать клиенту ошибку - "нельзя записываться ранее чем за час"

    Scenario: Изменение даты или времение записи, но хост уже имеет запись на это время
        When: клиент пытается изменить дату и время
        But: хост уже имеет запись на данное время и дату
        Then: показать клиенту ошибку - "хост уже имеет запись на это время и дату"

    Scenario: Изменение даты на нерабочие дни хоста
        When: клиент пытается изменить дату
        But: у хоста на эту дату нерабочий день
        Then показать клиенту ошибку - "у хоста нерабочий день"

    Scenario: Изменение времени на нерабочее время хоста  
        When: клиент пытается изменить время записи
        Then: показать клиенту ошибку - "у хоста нерабочее время" 
        
    



    

